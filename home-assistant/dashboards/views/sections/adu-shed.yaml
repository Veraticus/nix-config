type: custom:bubble-card
card_type: button
button_type: name
name: Shed
icon: mdi:home-variant
show_state: false
show_last_changed: false
show_attribute: false
card_layout: large
sub_button:
  - entity: binary_sensor.shed_door
    name: Door
    icon: mdi:door-closed
    show_state: false
    show_background: true
    show_icon: true
    styles: |-
      ${(() => {
        const s = hass.states['binary_sensor.shed_door']?.state === 'on';
        const bg = s ? 'rgba(100, 181, 246, 0.28)' : 'rgba(76, 175, 80, 0.30)';
        const color = s ? '#1E88E5' : '#43a047';
        if (subButtonIcon && subButtonIcon[0]) {
          subButtonIcon[0].setAttribute('icon', s ? 'mdi:door-open' : 'mdi:door-closed');
        }
        return `
          .bubble-sub-button { background-color: ${bg} !important; }
          .bubble-sub-button-icon { --mdc-icon-size: 22px; color: ${color} !important; }
        `;
      })()}
